!function(){const e=window,t=document,o=String,r=Boolean,n=Math,s=parseInt,l="video/mp4",d="video/quicktime",c=["javascript","js","ts","html","css","xml","json","sql","java","python","ruby","php","cpp","csharp","swift","typescript","kotlin","go","rust","perl","bash"],a=e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches,h="abcdefghijklmnopqrstuvwxyz0123456789";let u=new Map;const m=/\.([\w_-]+)?/gi,p=/\#([\w_-]+)?/i,f=/^\w+(?=[\#\.]*)/i,_=/[\"\']{0,1}([\u0020\u00A0\u0009]*)(mailto\:)?([\u0020\u00A0\u0009]*)(\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*)([\u0020\u00A0\u0009]*)[\"\']{0,1}/,w=/(\s{1})\\?[\#＃]{1}([\u4e00-\u9fff\u3040-\u30ff\uac00-\ud7a3a-zA-Z0-9_]+)/,g=/[& \<\>\"\']/g,b=/\[([^\]\n]+)?\]\(([^\)\n\u0020\u00A0\u0009]+)([\u0020\u00A0\u0009]*[\"\']([^\)\n]+)[\"\'])?\)/,v=/(\n)(\>\s*\[\!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]\n)?(\>[^\n]*(\n)?)+/,T=/\`([^\n\`]*)\`/,y=/^\n|\n$/g,A=/\`{3}(\w*)([\s\S]*?)\s*\`{3}/,O=/((\n([\u0020\u00A0]{4,}|[\u0009]))[^\n]+)+/,E=/\*([^\n\*]*)\*/,k=/\_([^\n\_]*)\_/,D=/^\s|\s$/g,N=/(\n[\u0020\u00A0\u0009]*|\n[\u0020\u00A0\u0009]*>[\u0020\u00A0\u0009]*|\n[\u0020\u00A0\u0009]*([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+)\\?(\#{1,6})[\u0020\u00A0\u0009]+([^\n]+)/,I=/(\n)([^\n]+)\n\={3,}([\u0020\u00A0\u0009]*\n)/,x=/(\n)([^\n]+)\n\-{3,}([\u0020\u00A0\u0009]*\n)/,S=/([\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*)\\?(\#{1,6})[\u0020\u00A0\u0009]+([^\n\|]*)([\u0020\u00A0\u0009]*)/,C=/(\n[\u0020\u00A0\u0009]*)(\*{3,}|\-{3,})([\u0020\u00A0\u0009]*\n)/,$=/\!\[([^\]\n]+)?\]\(([^\)\n\u0020\u00A0\u0009]+)([\u0020\u00A0\u0009]*[\"\']([^\)\n]+)[\"\'])?\)(\(([0-9]+\%?)?[\u0020\u00A0\u0009\*x]+([0-9]+\%?)?([\u0020\u00A0\u0009]+(left|right))?\))?/,R=/^['"].*['"]$/,U=/\n(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+(.+)(\n.*\S.*)*)+/,F=/(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+(.+)(\n.*\S.*)*)+/,L=/^(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]*[^\n]+)/,P=/\={2}([^\n\=]*)\={2}/,M=/\~{2}([^\n\~]*)\~{2}/,z=/\*{2}([^\n\*]*)\*{2}/,Y=/\_{2}([^\n\_]*)\_{2}/,q=/\~([^\n\~]*)\~/,K=/\^([^\n\^]*)\^/,G=/(\n(?![\{\<])[^\n]+)+/,H=/^(\n?(?![\{\<])[^\n]+)+/,W=/\.mov$/,B=/\.mp4$/,j=/[A-Za-z\%]/,V=/[\"\']{0,1}([\u0020\u00A0\u0009]*)(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*))([\u0020\u00A0\u0009]*)[\"\']{0,1}/,Z=/(\<[\u00A0\u0020\u0009\>]*\/?[\u00A0\u0020\u0009\>]*br[\u00A0\u0020\u0009\>]*\/?[\u00A0\u0020\u0009\>]*\>|\n)/,X=/\n/,J=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?/,Q="mailto:",ee="\n",te="_blank",ie="as",oe="add",re="appendChild",ne="auto",se="baseOffset",le="backgroundColor",de="blockquote",ce="body",ae="br",he="button",ue="charAt",me="checkbox",pe="childNodes",fe="children",_e="classList",we="clearTimeout",ge="clipboardData",be="code",ve="color",Te="contentEditable",ye="copy",Ae="createDocumentFragment",Oe="createElement",Ee="createTextNode",ke="dark",De="dataset",Ne="delay",Ie="display",xe="div",Se="editor",Ce="em",$e="empty",Re="firstElementChild",Ue="float",Fe="floor",Le="focusOffset",Pe="forEach",Me="get",ze=Me+"Data",Ye=Me+"Selection",qe="has",Ke=qe+"OwnProperty",Ge="head",He="height",We="id",Be="img",je="index",Ve="indexOf",Ze="focus",Xe="input",Je="innerHTML",Qe="innerText",et="insertBefore",tt="isArray",it="label",ot="language",rt="lastChild",nt="lastElementChild",st="offset",lt="length",dt="metaKey",ct="ctrlKey",at="content",ht="join",ut="li",mt="link",pt="list",ft="toLowerCase",_t="map",wt="mark",gt="match",bt="min",vt="mode",Tt="node",yt="name",At="number",Ot="object",Et="ol",kt="outerHTML",Dt="parent",Nt="pd-md-editor",It="pd-md-viewer",xt="placeholder",St="pre",Ct="prevent",$t=Ct+"Default",Rt=Ct+"Refresh",Ut="prettyprint",Ft="px",Lt="querySelector",Pt="querySelectorAll",Mt="random",zt="remove",Yt=zt+"AllRanges",qt="replace",Kt="script",Gt="scrollTop",Ht="section",Wt="selection",Bt="set",jt=Bt+"Attribute",Vt=Bt+"Data",Zt=Bt+"End",Xt=Bt+"Start",Jt=Bt+"Timeout",Qt="slice",ei="source",ti="span",ii="split",oi="src",ri="string",ni="strong",si="style",li="sub",di="success",ci="sup",ai="table",hi="tagName",ui="tagPath",mi="tagTarget",pi="tag",fi="td",_i="init",wi="temp",gi="test",bi="textContent",vi="th",Ti="thead",yi="tbody",Ai="tr",Oi="trim",Ei="ul",ki="viewer",Di="value",Ni="video",Ii="width",xi="controls",Si="title",Ci="alt",$i="type",Ri="href",Ui="target",Fi="checked",Li="none",Pi="loading",Mi="lazy",zi="iframe",Yi="rel",qi="error",Ki="light",Gi="fontFamily",Hi="scrollSync",Wi="className",Bi="hide",ji="push",Vi=/\\\!/g,Zi=/\\\`/g,Xi=/\\\#/g,Ji=/\\\*/g,Qi=/\\\_/g,eo=/\\\~/g,to=/\\\^/g,io=/\\\=/g,oo=/\\\</g,ro=/\\\>/g,no=/\\\[/g,so=/\\\]/g,lo=/\\\(/g,co=/\\\)/g,ao=/\$/g,ho="@excl@",uo="@grave@",mo="@num@",po="@ast@",fo="@lowbar@",_o="@tilde@",wo="@Hat@",go="@equal@",bo="@lt@",vo="@gt@",To="@lsqb@",yo="@rsqb@",Ao="@lpar@",Oo="@rpar@",Eo="@dollar@",ko="&lt;",Do="&gt;",No="&amp;",Io="&nbsp;",xo="&quot;",So="&apos;",Co="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js",$o=Tt+"Name",Ro=Tt+"Value",Uo="onclick",Fo="onwheel",Lo=Dt+"Element",Po=Dt+"Node",Mo=xt+"Color",zo="fromCharCode",Yo="toUpperCase";let qo="";Array.from({[lt]:26},((e,t)=>o[zo](97+t)))[Pe](((t,i)=>{let r=i<10,n=i>=10&&i<20,s=i>=20,l=o(i),d=l[ue](l[lt]-1),c=i=>{qo+=i?t[Yo]():t,e[(i?"$":"_")+(s?"_":"")+d+(n?"_":"")]=i?t[Yo]():t};c(0),c(1),r&&(qo+=i,e["_"+t]=i)}));e._a,e._b,e._c,e._d,e._e,e._f,e._g,e._h,e._i,e._j;const Ko=e._0,Go=e._1,Ho=(e._2,e._3,e._4,e._5,e._6),Wo=e._7,Bo=e._8,jo=(e._9,e._0_,e._1_,e._2_,e._3_,e._4_,e._5_,e._6_,e._7_,e._8_),Vo=(e._9_,e.__0);e.__1,e.__2,e.__3,e.__4,e.__5,e.$0,e.$1,e.$2,e.$3,e.$4,e.$5,e.$6,e.$7,e.$8,e.$9,e.$0_,e.$1_,e.$2_,e.$3_,e.$4_,e.$5_,e.$6_,e.$7_,e.$8_,e.$9_,e.$_0,e.$_1,e.$_2,e.$_3,e.$_4,e.$_5;let Zo,Xo=!1;function Jo(){var i;Xo||(Xo=!0,t[Ge][et](Qo(mt,{[Yi]:"stylesheet",[Ri]:"data:text/css;base64,"+(i='\n.pd-md-editor,.pd-md-viewer{overflow:hidden scroll;position:relative}.pd-md-editor>div,.pd-md-viewer{word-break:break-word;word-wrap:break-word}.pd-md-editor :not(code):not(i),.pd-md-viewer *{font-family:inherit}.pd-md-editor>div,.pd-md-viewer,.pd-md-viewer *{margin:0;font-size:.875rem}.pd-md-editor{display:flex;flex-flow:column;justify-content:flex-start;align-items:flex-start;margin:0;padding:1.5rem 0}.pd-md-editor div:last-child:empty::after{animation:2s ease-in-out infinite fadeInOut}@keyframes fadeInOut{0%,100%{opacity:1}50%{opacity:.5}}.pd-md-editor section.input-button{z-index:100;display:flex;flex-flow:row wrap;align-items:center;margin-left:1rem;margin-bottom:-1.75rem;padding:0 .25rem;max-width:calc(100% - 2rem);font-family:serif;background-color:#fff;border-radius:.25rem;box-shadow:0 2px 6px #00000034;opacity:1;transition:.2s}.pd-md-viewer a.tag,.pd-md-viewer li label{display:inline-block;vertical-align:middle}.pd-md-editor section.input-button i{flex-shrink:0;width:1.5rem;line-height:1.75rem;font-size:.75rem;text-align:center;cursor:pointer;transition:.2s}@media (hover:hover){.pd-md-editor section.input-button i:hover{color:#00f}}.pd-md-editor section.input-button[data-hide="1"]{opacity:0}.pd-md-editor[data-fill="1"],.pd-md-viewer section.more img.cover,.pd-md-viewer[data-fill="1"]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.pd-md-editor[data-row="1"]::before{content:"";position:fixed;z-index:0;top:0;left:0;bottom:0;width:3rem;background-color:#efefef}.pd-md-editor[data-row="1"]>div{padding:0 1rem 0 0}.pd-md-editor[data-row="1"]>div::before{content:attr(data-index);margin-right:1rem;flex-shrink:0;width:3rem;line-height:1.5rem;min-height:1.5rem;font-family:monospace;font-size:.75rem;text-align:center}.pd-md-editor>div{z-index:1;display:flex;flex-shrink:0;padding:0 1rem;width:100%;min-height:1.5rem;line-height:1.5rem;letter-spacing:1px;transition:.3s}.pd-md-viewer{padding:0 0 5rem}.pd-md-viewer *{padding:0;flex-shrink:0;max-width:100%!important;font-style:inherit;font-weight:inherit;letter-spacing:.5px;color:inherit;white-space:inherit;word-break:inherit;word-wrap:inherit;border:none;outline:0;object-fit:cover;appearance:unset;-webkit-appearance:unset;-moz-appearance:unset;overflow:visible}.pd-md-viewer * h1,.pd-md-viewer * h2,.pd-md-viewer * h3,.pd-md-viewer * h4,.pd-md-viewer * h5,.pd-md-viewer * h6{padding:.5rem 0 .25rem!important;margin:.25rem 0 .5rem!important}.pd-md-viewer * a,.pd-md-viewer * b,.pd-md-viewer * em,.pd-md-viewer * i,.pd-md-viewer * mark,.pd-md-viewer * s,.pd-md-viewer * strong,.pd-md-viewer * u{font-size:inherit!important;line-height:inherit!important}.pd-md-viewer :last-child,.pd-md-viewer ol *,.pd-md-viewer ul *{margin-bottom:0}.pd-md-viewer>:first-child{margin-top:1rem!important}.pd-md-viewer h1,.pd-md-viewer h2,.pd-md-viewer h3,.pd-md-viewer h4,.pd-md-viewer h5,.pd-md-viewer h6{margin-bottom:1rem;font-weight:700;color:#000}.pd-md-viewer h1 code,.pd-md-viewer h2 code,.pd-md-viewer h3 code,.pd-md-viewer h4 code,.pd-md-viewer h5 code,.pd-md-viewer h6 code{line-height:inherit!important}.pd-md-viewer details,.pd-md-viewer details summary,.pd-md-viewer p{line-height:1.75rem;min-height:1.75rem}.pd-md-viewer h1,.pd-md-viewer h2{padding:1.5rem 0 .5rem}.pd-md-viewer h3,.pd-md-viewer h4{padding:1.25rem 0 .25rem}.pd-md-viewer h5,.pd-md-viewer h6{padding:1rem 0 0}.pd-md-viewer h1,.pd-md-viewer h2,.pd-md-viewer hr{border:none;border-bottom:1px solid #ddd}.pd-md-viewer h1{font-size:2.125rem}.pd-md-viewer h1 code,.pd-md-viewer h1 sub,.pd-md-viewer h1 sup{font-size:calc(2.125rem - 1px)}.pd-md-viewer h2{font-size:1.625rem}.pd-md-viewer h2 code,.pd-md-viewer h2 sub,.pd-md-viewer h2 sup{font-size:calc(1.625rem - 1px)}.pd-md-viewer h3{font-size:1.375rem}.pd-md-viewer h3 code,.pd-md-viewer h3 sub,.pd-md-viewer h3 sup{font-size:calc(1.375rem - 1px)}.pd-md-viewer h4{font-size:1.125rem}.pd-md-viewer h4 code,.pd-md-viewer h4 sub,.pd-md-viewer h4 sup{font-size:calc(1.125rem - 1px)}.pd-md-viewer h5{font-size:1rem}.pd-md-viewer h5 code,.pd-md-viewer h5 sub,.pd-md-viewer h5 sup{font-size:calc(1rem - 1px)}.pd-md-viewer h6{font-size:.875rem}.pd-md-viewer h6 code,.pd-md-viewer h6 sub,.pd-md-viewer h6 sup{font-size:calc(.875rem - 1px)}.pd-md-viewer hr{margin:.75rem 0!important;height:1px}.pd-md-viewer b,.pd-md-viewer strong{font-weight:700}.pd-md-viewer p{margin:.75rem 0}.pd-md-viewer details{padding-left:1rem}.pd-md-viewer details summary{margin-left:-1rem;cursor:pointer}.pd-md-viewer em,.pd-md-viewer i{font-style:italic}.pd-md-viewer mark{background-color:#ff0}.pd-md-viewer a.tag,.pd-md-viewer button.more,.pd-md-viewer img[src]:not([src=""]),.pd-md-viewer video{background-color:#0000000d}.pd-md-viewer sub,.pd-md-viewer sup{font-size:.75rem}.pd-md-viewer a{position:relative;letter-spacing:1px;font-weight:500;color:#00f}.pd-md-viewer code,.pd-md-viewer code *{letter-spacing:1px;font-family:"Roboto Mono",monospace;font-weight:400;font-size:.75rem}.pd-md-viewer a.tag{margin-top:.5rem;margin-right:.5rem;padding:0 .5rem;text-decoration:none;font-size:.75rem;color:#000;border:1px solid #0000000d;border-radius:.25rem}.pd-md-viewer a.tag::before{content:"#"}.pd-md-viewer button.more{margin-left:.5rem;padding:0 .5rem;font-size:.75rem;border:1px solid #0000000d;border-radius:.25rem}.pd-md-viewer section.more{position:relative;display:flex;justify-content:center;align-items:center;width:300px;max-width:100%;aspect-ratio:2/1;border:.5px solid #00000003;border-radius:.125rem;overflow:hidden}.pd-md-viewer section.more img.icon{z-index:1;width:60px;height:60px;cursor:pointer}.pd-md-viewer a::after{content:attr(href);position:absolute;z-index:1;top:100%;left:0;padding:0;max-width:100%;line-height:1.25rem;white-space:nowrap;font-size:.625rem;border-radius:.25rem;background-color:#777;color:#fff;opacity:0;transition:.3s;pointer-events:none}.pd-md-viewer blockquote.CAUTION,.pd-md-viewer blockquote.IMPORTANT,.pd-md-viewer blockquote.NOTE,.pd-md-viewer blockquote.TIP,.pd-md-viewer blockquote.WARNING{background-color:transparent;font-style:normal}.pd-md-viewer img{margin-bottom:0;border:.5px solid #00000003;border-radius:.125rem;overflow:hidden}.pd-md-viewer code,.pd-md-viewer table tbody tr:nth-child(2n),.pd-md-viewer table thead{background-color:#f7f7fa}.pd-md-viewer table{margin-top:.5rem;table-layout:fixed;border-collapse:collapse}.pd-md-viewer table th{font-weight:600}.pd-md-viewer table td,.pd-md-viewer table th{padding:.375rem .75rem;min-width:4rem;border:1px solid #0000000d;border-collapse:collapse;border-radius:.125rem}.pd-md-viewer ol,.pd-md-viewer ul{margin:.5rem 0 .5rem 1.5rem;padding-left:.5rem}.pd-md-viewer ol li,.pd-md-viewer ul li{line-height:1.75rem;min-height:1.75rem;list-style-position:outside;letter-spacing:1px}.pd-md-viewer ol li::marker,.pd-md-viewer ul li::marker{font-family:"Roboto Mono",monospace;font-size:.75rem}.pd-md-viewer ol ol,.pd-md-viewer ol ul,.pd-md-viewer ul ol,.pd-md-viewer ul ul{margin-top:0}.pd-md-viewer ul>li{list-style-type:disc}.pd-md-viewer ul>li>ul>li{list-style-type:circle}.pd-md-viewer ul>li>ul>li>ul>li{list-style-type:square}.pd-md-viewer ul>li>ul>li>ul>li>ul>li{list-style-type:"+ "}.pd-md-viewer ul>li>ul>li>ul>li>ul>li>ul>li{list-style-type:"- "}.pd-md-viewer ol>li>ol>li>ol>li>ol>li>ol>li>ol>li,.pd-md-viewer ul>li>ul>li>ul>li>ul>li>ul>li>ul>li{list-style-type:"> "}.pd-md-viewer ol>li{list-style-type:decimal}.pd-md-viewer ol>li>ol>li{list-style-type:upper-alpha}.pd-md-viewer ol>li>ol>li>ol>li{list-style-type:lower-alpha}.pd-md-viewer ol>li>ol>li>ol>li>ol>li{list-style-type:upper-roman}.pd-md-viewer ol>li>ol>li>ol>li>ol>li>ol>li{list-style-type:lower-roman}.pd-md-viewer li label{margin-bottom:0}.pd-md-viewer li:has(label){list-style-type:none!important}.pd-md-viewer input[type=checkbox]{vertical-align:middle;margin-left:-1.5rem;margin-right:.5rem;width:1.25rem;height:1.25rem;appearance:auto;-webkit-appearance:auto;-moz-appearance:auto}.pd-md-viewer code{padding:.125rem .5rem;line-height:1.5rem;min-height:1.5rem;border-radius:.25rem;border:.5px solid #0000000d}.pd-md-viewer code:has(ol),.pd-md-viewer code:has(ul){padding:0}.pd-md-viewer code *{margin-bottom:0!important}.pd-md-viewer code ol,.pd-md-viewer code ul{margin:0!important;padding:.5rem 1rem;overflow:scroll}.pd-md-viewer code ol li,.pd-md-viewer code ul li{list-style-type:none;line-height:1.25rem;min-height:1.25rem;white-space:nowrap}.pd-md-viewer pre{position:relative;border:none!important}.pd-md-viewer pre.success code{background-color:#e0ffe1}.pd-md-viewer pre.success code[name]:not([name=""])::before{background-color:#e0ffe1;border-bottom:1px solid #e0ffe1}.pd-md-viewer pre.success button::after{content:"已複製"}.pd-md-viewer pre.error code{background-color:#ffd4d4}.pd-md-viewer pre.error code[name]:not([name=""])::before{background-color:#ffd4d4;border-bottom:1px solid #ffd4d4}.pd-md-viewer pre.error button::after{content:"無法複製"}.pd-md-viewer pre.error button,.pd-md-viewer pre.success button{opacity:1}.pd-md-viewer pre[name]:not([name=""]) button{top:calc(2.375rem - 1px)}.pd-md-viewer pre code{position:relative;display:block;padding:0;margin-bottom:.5rem!important;background-color:#f7f7fa;border:.5px solid #0000000d;transition:.3s}.pd-md-viewer pre code li{line-height:1.75rem}.pd-md-viewer pre code[name]:not([name=""]){margin-top:1.75rem;border-radius:0 .25rem .25rem}.pd-md-viewer pre code[name]:not([name=""])::before{content:attr(name);position:absolute;left:-1px;top:-1.25rem;padding:0 .5rem;height:1.25rem;line-height:1.25rem;min-height:1.25rem;font-size:.75rem;background-color:#f7f7fa;color:#777;border-radius:.25rem .25rem 0 0;border-top:.5px solid #0000000d;border-left:.5px solid #0000000d;border-right:.5px solid #0000000d;transition:.3s}.pd-md-viewer pre button{position:absolute;top:calc(.75rem - 1px);right:.5rem;padding:0 .5rem;line-height:1.5rem;font-size:.75rem;background-color:#777!important;color:#fff!important;border-radius:.25rem;opacity:0;transition:.3s;cursor:pointer}.pd-md-viewer pre button::after{content:"複製代碼";color:#fff!important}.pd-md-viewer blockquote{margin-bottom:1rem;padding-left:1rem;line-height:1.75rem;min-height:1.75rem;font-style:italic;border-left:.25rem solid #ddd;color:#666;background-color:#fbfbfb}.pd-md-viewer blockquote.NOTE{border-left:.25rem solid #1667c5;color:#000}.pd-md-viewer blockquote.NOTE span.hint{color:#1667c5}.pd-md-viewer blockquote.TIP{border-left:.25rem solid #1d7c30;color:#000}.pd-md-viewer blockquote.TIP span.hint{color:#1d7c30}.pd-md-viewer blockquote.IMPORTANT{border-left:.25rem solid #7f53cb;color:#000}.pd-md-viewer blockquote.IMPORTANT span.hint{color:#7f53cb}.pd-md-viewer blockquote.WARNING{border-left:.25rem solid #95661a;color:#000}.pd-md-viewer blockquote.WARNING span.hint{color:#95661a}.pd-md-viewer blockquote.CAUTION{border-left:.25rem solid #ba2929;color:#000}.pd-md-viewer blockquote.CAUTION span.hint{color:#ba2929}.pd-md-viewer blockquote span.hint i{margin-right:.375rem;font-style:normal;font-size:.75rem}.pd-md-viewer blockquote *{margin-bottom:0;color:inherit}.pd-md-viewer blockquote>br:last-child{display:none}.pd-md-viewer iframe{max-width:100%;aspect-ratio:16/9}.pd-md-editor[data-mode=dark],.pd-md-viewer[data-mode=dark]{background-color:#272832}.pd-md-editor[data-mode=dark] *,.pd-md-viewer[data-mode=dark] *{color:#fff}.pd-md-editor[data-mode=dark] section.input-button{background-color:#000;box-shadow:0 2px 6px #ffffff34}.pd-md-viewer[data-mode=dark] mark{color:#000}.pd-md-viewer[data-mode=dark] a.tag{background-color:#1b1c19;color:#fff;border:1px solid #1b1c19}.pd-md-viewer[data-mode=dark] code{background-color:#1b1c19;border:.5px solid #1b1c19}.pd-md-viewer[data-mode=dark] pre code[name]:not([name=""])::before{background-color:#1b1c19;color:#777;border-top:.5px solid #0000000d;border-left:.5px solid #0000000d;border-right:.5px solid #0000000d;border-bottom:1px solid transparent}.pd-md-viewer[data-mode=dark] table tbody tr:nth-child(2n),.pd-md-viewer[data-mode=dark] table thead{background-color:#00000034}.pd-md-viewer[data-mode=dark] table td,.pd-md-viewer[data-mode=dark] table th{border:1px solid #ffffff34}@media(hover:hover){.pd-md-viewer a:hover::after{padding:0 .25rem;max-width:unset;opacity:1}.pd-md-viewer pre:not(.success):not(.error):hover code{background-color:#ddd}.pd-md-viewer pre:not(.success):not(.error):hover code[name]:not([name=""])::before{background-color:#ddd;border-bottom:1px solid #ddd;color:#444}.pd-md-viewer pre:not(.success):not(.error):hover button,.pd-md-viewer[data-mode=dark] pre:not(.success):not(.error):hover button{opacity:1}.pd-md-viewer[data-mode=dark] pre:not(.success):not(.error):hover code{background-color:#111}.pd-md-viewer[data-mode=dark] pre:not(.success):not(.error):hover code[name]:not([name=""])::before{background-color:#111;border-bottom:1px solid transparent;color:#fff}}.pd-md-viewer[data-mode=dark] blockquote{background-color:#222;border-left:.25rem solid #2b4d74}\n',e.btoa(encodeURIComponent(i)[qt](/%([0-9A-F]{2})/g,((e,t)=>o[zo]("0x"+t)))))}),t[Ge][Re]))}function Qo(e="",i,o){const r=((e[gt](f)||[])[0]||"")[Oi](),n=((e[gt](p)||[])[1]||"")[Oi](),s=(m[gi](e)?e[gt](m):[])[_t]((e=>e[qt](/^\./,"")));if(r[lt]<1)return;let l,d,c,a=!1;e===wi?(a=!0,l=t[Ae]()):l=t[Oe](r),n[lt]&&(l.id=n);for(let e of s)l[_e][oe](e);if(null==i&&null!=o&&([i,o]=[o,null]),null!=i&&null!=o)[d,c]=[i,o];else if(null==o)typeof i===ri||typeof i===At||Array[tt](i)?c=i:d=i;else if(null==i)return l;if(typeof d===Ot&&null!=d)for(const e in d){if(!d[Ke](e))continue;const t=d[e];-1!=[Di,Qe,Je,bi,Te][Ve](e)?l[e]=t:-1!=[ve,le,Ii,He,Ie,Ue][Ve](e)?l[si][e]=t:null!=t&&l[jt](e,t)}if(null!=c){const e=typeof c===ri,i=typeof c===At,o=Array[tt](c);if(e||i){const e=c;r===Be||r===ei?l[oi]=e:a?l[re](t[Ee](c)):l[Je]=e}else if(o)for(let e of c){const i=e instanceof Element;typeof e===ri||typeof e===At?a?l[re](t[Ee](e)):l[Je]+=e:i&&l[re](e)}}return l}function er(e=""){let t="{{"+(e[Oi]()||ne)+"-";for(let e=0;e<64;e++)t+=h[ue](n[Fe](36*n[Mt]()));return t+="}}",u[qe](t)?er(e):t}function tr(e=""){return e[qt](g,(e=>({"&":No," ":Io,"<":ko,">":Do,'"':xo,"'":So}[e])))}function ir(e){const t=Qo(xe);return t[re](e),t[Je]}function or(e,t=""){return new RegExp(e,t)}function rr(e=""){if((e=e[Oi]())[lt]<1)return"";const t=e[gt](J)||[];return t[lt]>2&&11===t[1][lt]?t[1]:""}class nr{#e=!1;#t="";#i=void 0;#o=[];#r=[];#n;#s;#l;#d;#c;#a;#h;#u;#m;#p;#f;#_;#w;#g;#b;#v;#T;#y;#A;#O;#E;#k;#D;#N=!0;#I=void 0;#x=void 0;#S;#C(e,t){const i=Ht+"."+Xe+"-"+he;let o=this[ce][Lt](i);if(e[De][Ze]=1,o)this[ce][et](o,this[ce][fe][t+1]),o[De][Bi]=0;else{const t=[{name:"bold",click:e=>this.addBold(e)},{name:"italic",click:e=>this.addItalic(e)},{name:"strikethrough",click:e=>this.addStrikethrough(e)},{name:"underline",click:e=>this.addUnderline(e)},{name:"marker",click:e=>this.addMarker(e)},{name:"superscript",click:e=>this.addSup(e)},{name:"subscript",click:e=>this.addSub(e)},{name:"quote-left",click:e=>this.addBlockquote(e)},{name:"list-ul",click:e=>this.addUl(e)},{name:"list-ol",click:e=>this.addOl(e)},{name:"code",click:e=>this.addCode(e)},{name:"link",click:e=>this.addLink("連結文字","連結")},{name:"image",click:e=>this.addImage("圖片連結","圖片名稱")}].map((e=>{let t=Qo("i.fa-solid.fa-"+e.name);return t[Uo]=e.click,t}));o=Qo(i,t),o[Te]=!1,this[ce][et](o,e.nextElementSibling),o[De][Bi]=0}this.#I=e}#$(){if(!this.#I)return;const e=Ht+"."+Xe+"-"+he,t=this[ce][Lt](e);this.#I[De][Ze]=0,null!=t&&(this[ce][re](t),t[De][Bi]=1),this.#I=null}constructor(i={}){const n=(i[We]||"")[Oi]();this.#t=(i.defaultContent||"")[Oi](),Jo();const s=i[si]||{},l=o(s[vt]||ne)[Oi]()[ft](),d=r(null==s.fill?1:s.fill)?1:0,c=o(s[Gi]||"")[Oi]()||"'Roboto Mono', monospace",h=r(null==s.showRow?1:s.showRow)?1:0,u=s.placeholder||{},m=o(u.text||"Type here ..."),p=o(u.color||"#bfbfbf"),f=s.focus||{},_=o(f.backgroundColor||"#0000ff1a"),w=o(f.color||"#0000ffff");t[Ge][re](Qo(si,`\n.${Nt}{font-family: ${c}}\n.${Nt}>div{font-size: 0.75rem}\n.${Nt}>div[data-focus="1"]{background-color:${_};color:${w}}\n.${Nt}>div:nth-last-child(1):empty::after{content:"${m}";color:${p}}`)),this[ce]=Qo(Ht+"."+Nt,{[We]:n}),this[ce][De][vt]=a&&l===ne||l===ke?ke:"",this[ce][De].fill=d,this[ce][De].row=h;const g=this[ce];if(this.#N=r(null==i.hotKey||i.hotKey),null==this.#x&&i[Rt]&&(this.#x=e.addEventListener("beforeunload",(e=>{e[$t]()}))),null!=i[vt]){let e=o(i[vt]||ne)[Oi]()[ft]();this[ce][De][vt]=a&&e===ne||e===ke?ke:""}if(null!=i.fillMode){let e=r(i.fillMode)?1:0;this[ce][De].fill=e}if(null!=i.showRow){let e=r(i.showRow)?1:0;this[ce][De].row=e}if(null!=i[Gi]){let e=o(i[Gi])[Oi]()||"'Roboto Mono', monospace";t[Ge][re](Qo(si,`.${Nt}{font-family: ${e}}`))}let b=o(i.focusBackgroundColor||"")[Oi]()||_,v=o(i.focusTextColor||"")[Oi]()||w;t[Ge][re](Qo(si,`.${Nt}>div[data-focus="1"]{background-color:${b};color:${v}`));let T=o(i[xt]||"")[Oi]()||m,y=o(i[Mo]||"")[Oi]()||p;t[Ge][re](Qo(si,`.${Nt}>div:nth-last-child(1):empty::after{content:"${T}";color:${y}}`)),g.onmousedown=g.onmouseup=e=>{if(e.target[hi][ft]()!==xe)return e[$t](),!1;this.#R()},g.ontouchend=e=>{this.#R()},g.oncut=e=>(this.#$(),this.#U((t=>{e[ge][Vt]("text/plain",this.#n),g[fe][this.#s][Je]=tr(this.#d+this.#c),this.#F(),this.#L(g[fe][this.#s],this.#d[lt])})),this.#P(!0),!1),g.onpaste=t=>(this.#$(),this.#U((i=>{const o=((t[ge]||e[ge])[ze]("Text")||"")[ii](/\n/),r=o[lt],n=r-1,s=r>1,l=this.#s+n,d=`${s?"":this.#d}${o[n]}`[lt],c=o[0],a=s?"":this.#c;if(g[fe][this.#s][Qe]=this.#d+c+a,this.#F(),s)for(let e=1;e<r;e++){const t=o[e],i=Qo(xe,tr(`${t}${e===n?this.#c:""}`));i[Uo]=e=>this.#R(),g[et](i,g[fe][this.#s+e])}this.#L(g[fe][l],d,d)})),this.#P(!0),!1),g.oncompositionstart=e=>{this.#e=!0},g.oncompositionend=e=>{this.#e=!1},g.oninput=e=>{let t,i;if(clearTimeout(this.#i),"deleteCompositionText"===e.inputType){t=this.#m,i=this.#p;for(let e of[...g[fe]]){if(e[$o][ft]()===xe||e[$o][ft]()===Ht)continue;e[zt]();let o=Qo(xe,{"data-index":t+1,index:t+1});o[Uo]=e=>this.#R(),g[et](o,g[fe][t]),this.#L(g[fe][t],i)}}e.inputType;let o=this.#h,r=this.#k,n=e.data,s=this.#D,l=this.#A;this.#R(),o&&(this.#I[Qe]=r+n+s,this.#L(this.#I,l+1)),this.#i=setTimeout((()=>{this.#P(!0)}),300)},g.onkeydown=e=>{const t=e[dt]||e[ct],o=e.shiftKey,r=/^a$/i[gi](e.key),n=/^b$/i[gi](e.key),s=/^i$/i[gi](e.key),l=/^s$/i[gi](e.key),d=/^u$/i[gi](e.key),c=/^m$/i[gi](e.key),a=/^z$/i[gi](e.key),h=/^r$/i[gi](e.key),u=/^k$/i[gi](e.key),m=/^f5$/i[gi](e.key),p="ArrowUp"===e.key,f="ArrowDown"===e.key;return"Meta"!==e.key&&"Control"!==e.key&&(this.#N&&t&&o&&a?(this.goForward(),!1):this.#N&&t&&a?(this.goBack(),!1):!(this.#N&&(t&&h||m)&&i[Rt])&&(this.#N&&t&&n?(this.#M(e,"**",Go),!1):this.#N&&t&&s?(this.#M(e,"*",Bo),!1):this.#N&&t&&l?(this.#M(e,"~~",jo),!1):this.#N&&t&&d?(this.#M(e,Vo,Vo),!1):this.#N&&t&&c?(this.#M(e,"==",wt),!1):this.#N&&t&&p?(this.#M(e,"^",ci),!1):this.#N&&t&&f?(this.#M(e,"~",li),!1):this.#N&&t&&u?(this.#M(e,"`",be),!1):!(this.#N&&t&&r)&&(this.#R(null,this.#N&&t&&r),"Tab"===e.key?this.#z(e):"Enter"===e.key?this.#Y(e):"Backspace"===e.key?this.#q(e):void 0)))},g.onkeyup=e=>{"Meta"!==e.key&&"Control"!==e.key&&(g[fe]&&1===g[fe][lt]&&g[Re][$o][ft]()!==xe&&this[_i](null,!0,!1),this.#R(),/^(Arrow(Up|Left|Down|Right)|CapsLock|Shift|Control|Alt|Clear|Escape|F\d+)$/[gi](e.key)||this[ki]&&this[ki][_i]())},g.onblur=e=>{this.#$()}}get viewer(){return this.#S}set viewer(e){this.#S=e}#R(t,o=!1){function n(e){if(e)return e[Wi]===Nt||e[$o][ft]()===xe&&e[Po][Wi]===Nt?e:n(e[Po])}this.#$();const l=e[Ye]();if(l.rangeCount<1)return;const d=l.getRangeAt(0);let c=t||n(d.commonAncestorContainer);if(null==c)return;let a,h,u="";if(o){c=this[ce];const e=c[Pt](xe);for(let t of e)u+=(0==i?"":"\n")+t[Qe];a=0,h=e[lt]-1}else d.cloneContents()[pe][Pe](((e,t)=>{u+=(0==t?"":"\n")+e[Qe]})),c===this[ce]&&(a=s(n(l.baseNode)[De][je])-1,h=s(n(l.focusNode)[De][je])-1);var m=r(c===this[ce]),p=!m&&!o&&r(l[se]!==l[Le]),f=!!o||r(l[Le]>l[se]),_=!!o||r(a<h);this.#a=!0,this.#m=m?null:s(c[De][je])-1,this.#p=m||p?null:s(l[Le]),this.#f=m||p?null:c[Qe][Qt](0,l[Le]),this.#_=m||p?null:c[Qe][Qt](l[Le],c[Qe][lt]),this.#u=p,this.#w=p?l.toString():u,this.#g=p?f?l[se]:l[Le]:null,this.#b=p?f?l[Le]:l[se]:null,this.#v=p?c[Qe][Qt](0,this.#g):null,this.#T=p?c[Qe][Qt](this.#b,c[Qe][lt]):null,this.#h=m,this.#y=m?_?a:h:null,this.#A=o?0:m?_?l[se]:l[Le]:null,this.#O=m?_?h:a:null,this.#E=o?this[ce][fe][h][Qe][lt]:m?_?l[Le]:l[se]:null,this.#k=o?"":m?c[fe][this.#y][Qe][Qt](0,this.#A):null,this.#D=o?"":m?c[fe][this.#O][Qe][Qt](this.#E,c[Qe][lt]):null,this.#C(c,this.#m||this.#O)}#U(e){let t,i,o,r;this.#h?(t=this.#y,i=this.#O,o=this.#k,r=this.#D):this.#u?(t=this.#m,i=this.#m,o=this.#v,r=this.#T):null!==this.#m&&null!==this.#p&&(t=this.#m,i=this.#m,o=this.#f,r=this.#_),this.#n=this.#w,this.#s=s(t),this.#l=s(i),this.#d=o[qt](/&lt;/g,"<")[qt](/&gt;/g,">")[qt](/&nbsp;/g," "),this.#c=r[qt](/&lt;/g,"<")[qt](/&gt;/g,">")[qt](/&nbsp;/g," "),e()}#F(){for(let e=this.#l;e>this.#s;e--)this[ce][fe][e][zt]()}#L(i,o,r){const n=this[ce][Pt](xe);for(let e in n){const t=n[e];isNaN(s(e))||(t[De][je]=s(e)+1)}e[Ye]?e[Ye]()[$e]?e[Ye]()[$e]():e[Ye]()[Yt]&&e[Ye]()[Yt]():t[Wt]&&t[Wt][$e]();let l=e[Ye](),d=t.createRange(),c=o??i[pe][0][lt],a=r??c;d.selectNode(i),i[pe][0]?(d[Xt](i[pe][0],c>i[pe][0][lt]?i[pe][0][lt]:c),d[Zt](i[pe][0],a>i[pe][0][lt]?i[pe][0][lt]:a)):(d[Xt](i,0),d[Zt](i,0)),l.addRange(d),this.#R(i)}#z(e){if(9!==e.keyCode)return;const t=this[ce];return this.#U((e=>{t[fe][this.#s][Je]=tr(this.#d+"    "+this.#c),this.#F();const i=this.#d[lt]+4;this.#L(t[fe][this.#s],i)})),!1}#Y(e){if(13!==e.keyCode)return;const t=this[ce];return this.#U((e=>{t[fe][this.#s][Je]=tr(this.#d),this.#F(),t[Lo][Lo][Gt]+=28;const i=Qo(xe,tr(this.#c));i[Uo]=e=>this.#R(),t[et](i,t[fe][this.#s+1]),this.#L(t[fe][this.#s+1],0)})),!1}#q(e){if(8!==e.keyCode)return!1;const t=this[ce];return this.#U((e=>{if(this.#h||this.#u)t[fe][this.#s][Je]=tr(this.#d+this.#c),this.#F(),this.#L(t[fe][this.#s],this.#d[lt]);else if(this.#d[lt]){const e=this.#d[Qt](0,this.#d[lt]-1);t[fe][this.#s][Je]=tr(e+this.#c),this.#L(t[fe][this.#s],e[lt])}else{if(0===this.#s)return;t[fe][this.#s-1][Je]+=tr(this.#c),t[fe][this.#s][zt](),t[Lo][Lo][Gt]-=28;const e=t[fe][this.#s-1][Qe][lt]-this.#c[lt];this.#L(t[fe][this.#s-1],e)}})),!1}#K(e){e=tr(e);const t=this[ce][nt],i=Qo(xe,e);i[Uo]=e=>this.#R(),t[Qe][Oi]()[lt]<1?t[Je]=e:this[ce][re](i),this[ce][Gt]=this[ce].scrollHeight}#G(e,t){e=tr(e);const i=this[ce][fe][this.#s];i[Je]=e,this.#F(),this.#L(i,t),this.#H()}#M(e,t="",i=""){const o=e[dt]||e[ct]||t===i;this.#a?this.#U((e=>{const r=this.#d,n=this.#n,s=this.#c,l=`${r}${o?`<${i}>`:t}${n}${o?`</${i}>`:t}${s}`[qt](/\n/g,""),d=l[lt]-s[lt]-(o?i[lt]+3:t[lt]);this.#G(l,d),this.#P(!0)})):(this.#K(o?`<${i}></${i}>`:`${t}${t}`),this.#L(this[ce][nt],o?i[lt]+3:t[lt]),this.#P(!0))}#W(e){this.#a?this.#U((t=>{const i=this.#s,o=this.#l;for(let t=i;t<=o;t++){const i=this[ce][fe][t];i[Je]=tr(`${e} ${i[Qe]}`)}const r=this[ce][fe][o],n=r[Qe][lt];this.#L(r,n),this.#P(!0),this.#H()})):(this.#K(e),this.#L(this[ce][nt],e[lt]+1),this.#P(!0))}#B(e="",t="",i){if(this.#a)return void this.#U((o=>{const r=this.#d,n=this.#c,s=`${r}${null==i?"":"!"}[${e}](${t}) ${n}`[qt](/\n/g,""),l=s[lt]-n[lt]-1;this.#G(s,l),this.#P(!0)}));this.#K(`${null==i?"":"!"}[${e}](${t})`);const o=this[ce][nt],r=o[Qe][lt];this.#L(o,r),this.#P(!0),this.#H()}#P(e){this.#R(),this.#o[ji]({[je]:this.#m,[st]:this.#p,[at]:this.getTxt()}),e&&(this.#r=[])}#j(e,i){let o=`PDMarkdownKit-${Date.now()}.${e}`,r=new Blob([i],{type:"application/octet-stream"}),n=URL.createObjectURL(r),s=Qo(Ko,{href:n,download:o});t[ce][re](s),s.click()}#H(){null!=this[ki]&&this[ki][_i]()}init(e,t=!0,i=!0){if(this[ce][Te]=!0,this[ce][Je]=null,(e=o(e||this.#t)[Oi]())[lt]){this.#t="";const i=e[qt](/\n*$/,"")[ii](/\n/);for(let e in i){const t=i[e],o=Qo(xe,{"data-index":s(e)+1},tr(t));o[Uo]=e=>this.#R(),this[ce][re](o)}if(!t)return;this.#L(this[ce][fe][this.#m||0],0)}else{const e=Qo(xe,{"data-index":1});if(e[Uo]=e=>this.#R(),this[ce][re](e),!t)return;this.#L(this[ce][Re],0)}i&&this.#P(!0)}changeMode(e=Ki){this[ce][De][vt]=e}goBack(){this.#$();const e=this.#o[(this.#o||[])[lt]-2];if(null==e)return;let t=this.#o.pop();this.#r[ji](t),this[_i](e[at][lt]<1?null:e[at],!1,!1),this.#L(this[ce][fe][e[je]],e[st]),this.#H()}goForward(){const e=this.#r.pop();null!=e&&(this.#o[ji](e),this.init(e[at],!1,!1),this.#L(this[ce][fe][e[je]],e[st]),this.#H())}addHeading(e,t){const i=e[dt]||e[ct],o=`${new Array(t).fill("#")[ht]("")}${0===t?"":" "}`;this.#a?this.#U((e=>{const r=this.#d[qt](/^\s*\#*\s*/,""),n=this.#n,s=this.#c,l=`${i?`<h${t}>`:o}${r}${n}${s}${i?`</h${t}>`:""}`[qt](/\n/g,""),d=l[lt]-(i?5:0);this.#G(l,d),this.#P(!0)})):(this.#K(i?`<h${t}></h${t}>`:o),this.#L(this[ce][nt],o[lt]-(i?5:0)),this.#P(!0))}addBold(e){this.#M(e,"**",Go)}addItalic(e){this.#M(e,"*",Bo)}addStrikethrough(e){this.#M(e,"~~",jo)}addUnderline(e){this.#M(e,Vo,Vo)}addMarker(e){this.#M(e,"==",wt)}addSup(e){this.#M(e,"^",ci)}addSub(e){this.#M(e,"~",li)}addBlockquote(){this.#a?this.#U((e=>{for(let e=this.#s;e<=this.#l;e++){const t=this[ce][fe][e];t[Je]=tr(`> ${t[Qe]}`)}const t=this[ce][fe][this.#l],i=t[Qe][lt];this.#L(t,i),this.#P(!0),this.#H()})):(this.#K("> "),this.#L(this[ce][nt],2),this.#P(!0))}addUl(){this.#W("-")}addOl(){this.#W("1.")}addCode(e){this.#a?this.#U((t=>{if(this.#h){const e=Qo(xe,"```"),t=Qo(xe,"```");e[Uo]=t[Uo]=e=>this.#R(),this[ce][et](e,this[ce][fe][this.#l+1]),this[ce][et](t,this[ce][fe][this.#s]),this.#L(this[ce][fe][this.#l+1],this[ce][fe][this.#l+1][Qe][lt]),this.#P(!0),this.#H()}else this.#M(e,"`",be)})):this.#M(e,"`",be)}addLink(e="",t=""){t[Oi]()[lt]<1&&e[Oi]()[lt]<1||this.#B(e,t)}addImage(e="",t="",i=""){e[Oi]()[lt]<1||this.#B(i,e,t)}clear(){this.init(),this.#H()}downloadMd(){this.#j("md",this.getTxt()[Oi]())}downloadHtml(){this.#j("html",`<!DOCTYPE html> <html lang="zh-hant"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Markdown Editor</title> <link rel="stylesheet" href="https://pardnchiu.github.io/PDMarkdownKit/dist/PDMarkdownKit.css"> <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"><\/script> <style> body { display: flex; justify-content: center; align-item: flex-start; width: 100%; height: 100%; overflow: scroll; } * { -ms-overflow-style: none; scrollbar-width: none; -webkit-overflow-scrolling: touch; touch-action: manipulation; box-sizing: border-box;} body { background-color: ghostwhite; } *::-webkit-scrollbar { display: none; } body>section { padding: 1rem !important; width: 100%; background-color: #fff; box-sizing: border-box; box-shadow: 0 0.25rem 0.5rem #0000000d; transition: 0.3s; } @media screen and (min-width: 640px) { body>section { padding: 3rem !important; max-width: 800px; } } </style> </head> <body><section class="pd-md-viewer">${yr(`\n${this.getTxt()}\n`)}</section></body> </html><!DOCTYPE html>`)}openfile(e){if(null==e)return void alert("請選擇檔案");const t=new FileReader;t.readAsText(e),t.onload=()=>{this[ce][Je]=null;const e=t.result[Oi]()[qt](/[\u0020\u00A0]/g," ");this.init(tr(e),!1),this.#H()}}getTxt(){return[...this[ce][fe]].map((e=>e[Qe]))[ht]("\n")}}function sr(e,t="",i="",o="",r="",n=""){const s=er(i),l=o instanceof HTMLElement?o:Qo(i,o);return u[Bt](s,l[kt]),t[qt](e,r+s+n)}function lr(e=""){return(()=>{for(let t of e[gt](or(N,Ho))||[]){const i=t[gt](N);if(i[lt]<1)continue;const o=i[1]||"",r=(i[3]||"")[Oi]()[lt],s=(i[4]||"")[Oi]();0!=n[bt](r,s[lt])&&(e=sr(t,e,Wo+r,s,o))}})(),(()=>{for(let t of e[gt](or(S,Ho))||[]){const i=t[gt](S);if(i[lt]<1)continue;const o=i[1]||"",r=(i[2]||"")[Oi]()[lt],s=(i[3]||"")[Oi](),l=i[4]||"";0!=n[bt](r,s[lt])&&(e=sr(t,e,Wo+r,s,o,l))}})(),(()=>{for(let t of e[gt](or(I,Ho))||[]){const i=t[gt](I);if(i[lt]<1)continue;const o=i[1]||"",r=(i[2]||"")[Oi](),n=i[3]||"";r[lt]<1||(e=sr(t,e,Wo+1,r,o,n))}})(),(()=>{for(let t of e[gt](or(x,Ho))||[]){const i=t[gt](x);if(i[lt]<1)continue;const o=i[1]||"",r=(i[2]||"")[Oi](),n=i[3]||"";r[lt]<1||(e=sr(t,e,Wo+2,r,o,n))}})(),e}function dr(e=""){let t=[[be,T]];for(let i of t){const t=i[0],o=i[1];for(let i of e[gt](or(o,Ho))||[]){const r=i[gt](o);if(D[gi](r[1]||""))continue;let n=(r[1]||"")[Oi]();n[lt]<1||(t!=be?e=e[qt](i,Qo(t,n)[kt]):(n=tr(n),e=sr(i,e,t,n)))}}return e}function cr(e=""){let t=[[ni,z],[ni,Y],[jo,M],[wt,P],[Ce,E],[Ce,k],[ci,K],[li,q]];for(let e of t){i(e[0],e[1])}function i(t,i){for(let o of e[gt](or(i,Ho))||[]){const r=o[gt](i);if(D[gi](r[1]||""))continue;let n=(r[1]||"")[Oi]();n[lt]<1||(t!=be?e=e[qt](o,Qo(t,n)[kt]):(n=tr(n),e=sr(o,e,t,n)))}}return e}function ar(e=""){return(()=>{for(let t of e[gt](or(b,Ho))||[]){const i=t[gt](b);if(i[lt]<1)continue;const o=(i[1]||"")[Oi](),r=(i[2]||"")[Oi](),s=(i[4]||"")[Oi](),l=(rr(r)||"")[Oi]();if(0!=n[bt](o[lt],r[lt]))if(l[lt]){const i=Qo(wi,[Qo(Ko,{[Si]:s,[Ri]:r,[Ui]:te},o),Qo("section.more",[Qo("img.cover","https://i.ytimg.com/vi/"+l+"/mqdefault.jpg"),Qo("img.icon",{[Uo]:"this.parentElement.nextElementSibling.style.display='block';this.parentElement.style.display='none'"},"https://pardnchiu.github.io/PDMarkdownKit/static/image/icon-play.svg")]),Qo(zi,{[Pi]:Mi,[Ii]:"640px",[oi]:"https://www.youtube.com/embed/"+l,frameborder:0,allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",[Ie]:Li})]);e=sr(t,e,xe,ir(i))}else{const i=Qo(Ko,{[Si]:s,[Ri]:r,[Ui]:te},o);e=sr(t,e,Ko,i)}}})(),(()=>{for(let t of e[gt](or(V,Ho))||[]){if(t[gt](R))continue;const i=t[gt](V);if(i[lt]<1)continue;const o=i[1]||"",r=(i[2]||"")[Oi](),n=i[5]||"",s=(rr(r)||"")[Oi]();if(!(r[lt]<1))if(s[lt]){const i=Qo(wi,[Qo(Ko,{[Ri]:r,[Ui]:te},r),Qo("section.more",[Qo("img.cover","https://i.ytimg.com/vi/"+s+"/mqdefault.jpg"),Qo("img.icon",{[Uo]:"this.parentElement.nextElementSibling.style.display='block';this.parentElement.style.display='none'"},"https://pardnchiu.github.io/PDMarkdownKit/static/image/icon-play.svg")]),Qo(zi,{[Pi]:Mi,[Ii]:"640px",[oi]:"https://www.youtube.com/embed/"+s,frameborder:0,allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",[Ie]:Li})]),l=Qo(xe);l[re](i),e=sr(t,e,xe,l[Je],o,n)}else{const i=Qo(Ko,{[Ri]:r,[Ui]:te},r);e=sr(t,e,Ko,i,o,n)}}})(),(()=>{for(let t of e[gt](or(_,Ho))||[]){if(t[gt](R))continue;const i=t[gt](_);if(i[lt]<1)continue;const o=(i[1]||"")+(i[2]||"")+(i[3]||""),r=(i[4]||"")[Oi](),n=i[8]||"";if(r[lt]<1)continue;const s=Qo(Ko,{[Ri]:Q+r,[Ui]:te},r);e=sr(t,e,Ko,s,o,n)}})(),e}function hr(e=""){for(let t of e[gt](or($,Ho))||[]){const i=t[gt]($);if(i[lt]<1)continue;const o=(i[1]||"")[Oi](),r=(i[2]||"")[Oi](),n=(i[4]||"")[Oi]();let s=(i[6]||"")[Oi](),c=(i[7]||"")[Oi](),a=(i[9]||"")[Oi]();if(r[lt]<1)continue;s[lt]&&!j[gi](s)&&(s+=Ft),c[lt]&&!j[gi](c)&&(c+=Ft);const h=W[gi](r),u=B[gi](r);let m;m=h?Qo(Ni,{[xi]:"",[Si]:n,[Ii]:s||null,[He]:c||null},[Qo(ei,{[$i]:d},r)]):u?Qo(Ni,{[xi]:"",[Si]:n,[Ii]:s||null,[He]:c||null},[Qo(ei,{[$i]:l},r)]):Qo(Be,{[Ci]:o,[Si]:n,[Ii]:s||null,[He]:c||null,[Ue]:a[lt]?a:null},r),null!=m&&(e=sr(t,e,Be,m))}return e}function ur(e=""){for(let i of e[gt](or(U,Ho))||[])t(i);function t(t){let i;t[Oi]()[qt](or(Z,Ho),ee)[ii](Z)[Pe](((e,t)=>{const o=e[gt](F)||[],r=o[lt]<1?null:/\d+\./[gi]((o[2]||"")[Oi]())?Et:Ei,n=(e[gt](/\s{4}/g)||[])[lt];let l=o[lt]<1?e[qt](/^\s*([\-\*\+]|\d+\.)?\s*/g,""):(o[3]||"")[Oi]();if(0===s(t)&&null==r)return;0===s(t)&&(i=Qo(r));let d=i;function c(e,t){if(/^\[\s*(\x)?\s*\]/[gi](t)){const i=t[Oi]()[gt](/^\[\s*(\x)?\s*\]/);t=t[qt](/^\[\s*(\x)?\s*\]\s*/,"");const o=null!=i[1];e[re](Qo(ut,[Qo(it,[Qo(Xe,{[$i]:me,[Fi]:o?"":null,[Uo]:"return false;"}),Qo(ti,t)])]))}else e[re](Qo(ut,t))}if(/^\s{0,3}([\-\*\+]|\d+\.)/[gi](e))c(d,l);else if(/^\s{4,}([\-\*\+]|\d+\.)/[gi](e)){d=i[rt];for(let e=0;e<n&&(null!=d&&null!=d[hi]);e++)if(e==n-1&&d[hi][ft]()==ut)if(d[rt]instanceof HTMLElement&&(d[rt][hi][ft]()==Et||d[rt][hi][ft]()==Ei))c(d[rt],l);else if(/^\[\s*(\x)?\s*\]/[gi](l)){const e=l[Oi]()[gt](/^\[\s*(\x)?\s*\]/);l=l[qt](/^\[\s*(\x)?\s*\]\s*/,"");const t=null!=e[1];d[re](Qo(r,[Qo(ut,[Qo(it,[Qo(Xe,{[$i]:me,[Fi]:t?"":null,[Uo]:"return false;"}),Qo(ti,l)])])]))}else d[re](Qo(r,[Qo(ut,l)]));else d=d[rt][rt]}else{if(null==i)return;for(d=i[rt];null!=d[rt];)d=d[rt];if(d instanceof HTMLElement);else if(/^\{\{(h\d|img|pre)/[gi](d[Ro]||""));else{for(;d[Lo][hi][ft]()!=ut;)d=d[Lo];d[Lo][re](Qo(ae))}d[Lo][Je]+=l}})),null!=i&&(e=sr(t,e,pt,i))}return e}function mr(e=""){for(let t of e[gt](or(A,Ho))||[]){const i=t[gt](A);if(i[lt]<1)continue;const o=null==i[2][gt](y),r=o?"":(i[1]||"")[Oi]()[ft](),n=i[2]||"",s=-1!=c[Ve](r),l=n[qt](y,"")[ii](X);let d;d=o?Qo(be+"."+Ut,tr(n)):Qo(St+"."+Ut,{[yt]:r},[Qo(be+(s?"."+ot+"-"+r:""),{[yt]:r},[fr(l)]),Qo(he+"."+ye)]),e=sr(t,e,o?be:St,d)}return e}function pr(e=""){for(let t of e[gt](or(O,Ho))||[]){const i=t[gt](O);if(i[lt]<1)continue;const o=i[2]||"",r=t[qt](y,"")[ii](X),n=Qo(St+"."+Ut,[Qo(be,[fr(r)]),Qo(he+"."+ye)]);e=sr(t,e,St,n,o)}return e}function fr(e){let t=0,i=Qo(Et);for(let o in e){const r=e[o];0===s(o)&&(t=n.floor((r[gt](/^\s*/)||[""])[0][lt]/4));const l=or(`^\\s{0,${4*t}}`);i[re](Qo(ut,tr(r[qt](l,""))))}return i}function _r(e=""){let t;function i(e){const t=e[gt](/^([\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*)+/)||[],i=e[gt](/[\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*$/)||[];return[t[0]||"",i[0]||""]}function o(e){const i=e[Oi]()[ii](X);t=Qo(wi,[Qo(ai,[Qo(Ti),Qo(yi)])]);let o=!0,n=[],l=0;for(let e in i){const d=i[e],c=d[gt](/((\s*)\|?((?:.*?\|)*.*)\|?)+/)||[];if(c[lt]<1)continue;const a=(c[3]||"")[Oi]()[qt](/[\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*$/,""),h=/^[\u0020\u00A0\u0009]*\|?([\u0020\u00A0\u0009]*[\-\:]+[\u0020\u00A0\u0009]*\|?)+[\u0020\u00A0\u0009]*$/[gi](d),u=a[ii](/[\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*/);if(0===s(e)&&(l=u[lt]),h){for(let e of d[qt](/^([\u0020\u00A0\u0009]*\|)|(\|[\u0020\u00A0\u0009]*)$/g,"")[ii](/\|/))/^\-+\:$/[gi](e[Oi]())?n.push("right"):/^\:\-+\:$/[gi](e[Oi]())?n.push("center"):n.push("left");const e=[...t.firstChild.firstChild.childNodes[0].childNodes];for(let t in e)e[t].setAttribute("align",n[t]);o=!1}else r(o,u,l,n)}}function r(e=!0,i=[],o=0,r=[]){const n=e?t.firstChild.firstChild:t.firstChild[rt],s=Qo(Ai);for(let t=0;t<o;t++)s[re](Qo(e?vi:fi,{align:r[t]},i[t]||""));n[re](s)}return(()=>{const r=/([^\n]*)(?:[\u0020\u00A0\u0009]*\|[^\n]*\|[^\n]*\n)[\u0020\u00A0\u0009]*\|([\u0020\u00A0\u0009\-\:]*\|)+\n(?:[\u0020\u00A0\u0009]*\|[^\n]*\|[^\n]*\n)*/;for(let n of e[gt](or(r,Ho))||[])L[gi](n)||(o(n),e=sr(n,e,ai,ir(t),...i(n)))})(),(()=>{const r=/(([^\n]+\|)*[^\n]+\n)(([\u0020\u00A0\u0009\-\:]+\|)*[\u0020\u00A0\u0009\-\:]+\n)(?:([^\n]+\|)*[^\n]+\n)*/;for(let n of e[gt](or(r,Ho))||[])o(n),e=sr(n,e,ai,ir(t),...i(n))})(),e}function wr(e=""){let i;for(let t of e[gt](or(v,Ho))||[]){const r=t[gt](v),n=r[1]||"",s=r[3]||"",l=r[5]||"";i=Qo(de+(s[lt]?"."+s:"")),o(t,s),e=sr(t,e,de,i,n,l)}function o(e,t=""){let o=ur(e[Oi]()[qt](/^\>[\u00A0\u0020\u0009]?/,"")[qt](/\n\>[\u00A0\u0020\u0009]?/g,"\n"))[ii](X);for(let e in o){const n=o[e];i[re](r(n,s(e),t))}}function r(e,o=0,n=""){let s=Qo(wi);const l=/^[\u00A0\u0020\u0009]*\>[\u00A0\u0020\u0009]?/,d=e[qt](l,"");if(/\[\!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/[gi](e)&&0===o)s[re](Qo(ti+".hint",[-1!=["NOTE","TIP","IMPORTANT","WARNING","CAUTION"][Ve](n)?Qo("i."+({NOTE:"fa-solid.fa-circle-info",TIP:"fa-solid.fa-lightbulb",IMPORTANT:"fa-solid.fa-message",WARNING:"fa-solid.fa-triangle-exclamation",CAUTION:"fa-solid.fa-circle-exclamation"}[n]||"")):null,n])),s[re](Qo(ae));else if(l[gi](e)){let e=Qo(de);e[re](r(d)),s[re](e)}else/^[\u00A0\u0020\u0009]*\{\{/[gi](e)?s[re](i[re](t[Ee](e))):s[re](Qo(ti,e));return s}return e}function gr(e=""){for(let t of e[gt](or(C,Ho))||[]){const i=t[gt](C);if(i[lt]<1)continue;const o=i[1]||"",r=i[3]||"",n=er("HR");u[Bt](n,"<hr>"),e=e[qt](t,o+n+r)}return e}function br(e="",t="",i=te){if(o(t||"")[Oi]()[lt]<1)return e;for(let o of e[gt](or(w,Ho))||[]){if(o[gt](/^\\/))continue;const r=o[gt](w);if(r[lt]<1)continue;const n=r[1],s=(r[2]||"")[Oi](),l=er(Ko);if(s[lt]<1)continue;const d=Qo(wi,[Qo(Ko+"."+pi,{[Ri]:t+s,[Ui]:i===te?te:"_self"},s)]);u[Bt](l,ir(d)),e=e[qt](o,n+l)}return e}function vr(e=""){e=e[qt](/^\n*|\n*$/g,"");const t=/(&lt;br&gt;)/g;return t[gi](e)?e[qt](t,"\n"):e}function Tr(e=""){return e=e[qt](/\n[\u0020\u00A0\u0009]*/g,"\n"),(()=>{for(let t of e[gt](or(H,Ho))||[]){const i=t[gt](H);if(i[lt]<1)continue;const o=i[2]||"",r=(i[0]||"")[Oi]();if(r[lt]){const i=Qo(wi,[Qo("p",r)]),n=er("p");u[Bt](n,ir(i)),e=e[qt](t,o+n)}}})(),(()=>{for(let t of e[gt](or(G,Ho))||[]){const i=t[gt](G);if(i[lt]<1)continue;const o=i[2]||"",r=(i[0]||"")[Oi]();if(r[lt]){const i=Qo(wi,[Qo("p",r)]),n=er("p");u[Bt](n,ir(i)),e=e[qt](t,o+n)}}})(),e}function yr(e="",t="",i=te){e=e[qt](Vi,ho)[qt](Zi,uo)[qt](Xi,mo)[qt](Ji,po)[qt](Qi,fo)[qt](eo,_o)[qt](to,wo)[qt](io,go)[qt](oo,bo)[qt](ro,vo)[qt](no,To)[qt](so,yo)[qt](lo,Ao)[qt](co,Oo)[qt](ao,Eo)[qt](/[\u00A0\u0020]/g," ");let o=[mr,dr,hr,ar,cr,lr,gr,_r,wr,ur,pr,br,vr,Tr];for(let r of o)e=r(e,t,i);for(;/\{{2}\w*\-*\w{64}\}{2}/[gi](e);)for(let t of e[gt](/\{{2}\w*\-*\w{64}\}{2}/g)||[]){let i=or(t);e=e[qt](i,u[Me](t))}const r=["h1","h2","h3","h4","h5","h6",ai,Et,Ei,St,de,"details","hr",it];for(let t of r){const i=or(`[  \t]*\\n[  \t]*<${t}`,Ho),o=or(`${t}>[  \t]*\\n[  \t]*`,Ho);e=e[qt](i,`<${t}`)[qt](o,`${t}>`)}return e=e[qt](or(ho,Ho),"&excl;")[qt](or(uo,Ho),"&grave")[qt](or(mo,Ho),"&num;")[qt](or(po,Ho),"&ast;")[qt](or(fo,Ho),"&lowbar;")[qt](or(_o,Ho),"&tilde;")[qt](or(wo,Ho),"&Hat;")[qt](or(go,Ho),"&equal;")[qt](or(bo,Ho),ko)[qt](or(vo,Ho),Do)[qt](or(To,Ho),"&lsqb;")[qt](or(yo,Ho),"&rsqb;")[qt](or(Ao,Ho),"&lpar;")[qt](or(Oo,Ho),"&rpar;")[qt](or(Eo,Ho),"&dollar;")[qt](/([\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*){2,}/g,"<br>")}e.PDMarkdownEditor=nr;for(let e of[Qo(mt,{[Yi]:"preload",[Ri]:Co,[ie]:Kt}),Qo(Kt,{[oi]:Co})])t[Ge][re](e);e.PDMarkdownViewer=class{#V;#Z;#X;#J;#Q;#ee;#te;constructor(e={}){const i=(e[We]||"")[Oi]();this.#Z=(e.emptyContent||"")[Oi](),Jo();const n=e[si]||{},l=o(n[vt]||ne)[Oi]()[ft](),d=r(null==n.fill?1:n.fill)?1:0,c=o(n[Gi]||"")[Oi]()||"'Noto Sans TC', sans-serif",h=e.sync||{};this.#X=s(null==h[Ne]?300:h[Ne])||300,this.#J=r(h.scroll||0)?1:0,t[Ge][re](Qo(si,`.${It}{font-family: ${c}}`)),this[ce]=Qo(Ht+"."+It,{id:i}),this[ce][De][vt]=a&&l===ne||l===ke?ke:"",this[ce][De].fill=d;const u=e.hashtag||{};if(this.#Q=o(u.path||"")[Oi](),this.#ee=o(u[Ui]||"")[Oi](),null!=e[St]&&(this.#Z=(e[St]||"")[Oi]()),null!=e[vt]){let t=o(e[vt]||ne)[Oi]()[ft]();this[ce][De][vt]=a&&t===ne||t===ke?ke:""}if(null!=e.fillMode){let t=r(e.fillMode)?1:0;this[ce][De].fill=t}if(null!=e[Ne]&&(this.#X=s(e[Ne])||300),null!=e[Hi]&&(this.#J=r(e[Hi])?1:0),null!=e[Gi]){let i=o(e[Gi])[Oi]()||"'Noto Sans TC', sans-serif";t[Ge][re](Qo(si,`.${It}{font-family: ${i}}`))}null!=e[ui]&&(this.#Q=o(e[ui]||"")[Oi]()),null!=e[mi]&&(this.#ee=o(e[mi]||"")[Oi]()),this[Se]=h[Se]instanceof nr?h[Se]:null}get editor(){return this.#te}set editor(e){this.#te&&(this.#te[ce][Fo]=null),null!=e&&(this.#te=e,this.#te.viewer=this,this.#J&&null!=this.#te&&(this.#te[ce][Fo]=e=>{this[ce][Gt]+=e.deltaY}))}#ie(){if(null==this.#te)return"";const e=[...this.#te[ce][Pt](xe)];let t="";for(let o of e){var i=o[Qe][qt](/[\u00A0\u0020]/g," ");i[Oi]()[lt]<1?t+="\n":t+=i+"\n"}return t[Oi]()}init(t=""){let i=this.#Z,o=this[ce][Gt];e[we](this.#V),this.#V=e[Jt]((()=>{if(e[we](this.#V),i&&this[ce][Je]&&i===this[ce][Je])return;let r=t||this.#ie()||i;r=yr(`\n${r}\n`,this.#Q,this.#ee);let n=Qo(wi);for(let e of[...Qo(xe,r)[pe]])n[re](e);this[ce].replaceChildren(n);for(let t of[...this[ce][Pt](he+"."+ye)])t[Uo]=async t=>{e[we](Zo);const i=t[Ui][Lo],o=i[_e],r=i[fe][0][Qe];try{await navigator.clipboard.writeText(r),o[oe](di),Zo=e[Jt]((e=>{o[zt](di)}),1e3)}catch(e){console[qi](e),o[oe](qi)}};e[Jt]((e=>{this[ce][Gt]=o,PR.prettyPrint()}),500)}),this.#X)}changeMode(e=Ki){this[ce][De][vt]=e}}}("undefined"==typeof window?window={}:window);